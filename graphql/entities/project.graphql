type Project {
    id: ID!
    title: String!
    slug: String!
    description: String
    challenge: String
    solution: String
    results: String
    featured_image_url: String
    gallery_images: JSON
    client_name: String
    industry: String
    technologies: JSON
    status: PostStatus!
    completion_date: DateTime
    created_at: DateTime!
    updated_at: DateTime!
}

input CreateProjectInput {
    title: String! @rules(apply: ["required", "max:255"])
    slug: String
    description: String
    challenge: String
    solution: String
    results: String
    featured_image: String
    featured_image_url: String
    gallery_images: JSON
    client_name: String
    industry: String
    technologies: JSON
    status: PostStatus
    completion_date: DateTime
}

input UpdateProjectInput {
    title: String @rules(apply: ["max:255"])
    slug: String
    description: String
    challenge: String
    solution: String
    results: String
    featured_image: String
    featured_image_url: String
    gallery_images: JSON
    client_name: String
    industry: String
    technologies: JSON
    status: PostStatus
    completion_date: DateTime
}

extend type Query {
    projects(
        status: PostStatus @eq
        limit: Int @rules(apply: ["max:100"])
    ): [Project!]! @all

    project(slug: String! @eq): Project @find
}

extend type Mutation {
    createProject(input: CreateProjectInput!): Project! @field(resolver: "App\\GraphQL\\Mutations\\CreateProject") @guard(with: ["sanctum"])
    updateProject(id: ID!, input: UpdateProjectInput!): Project! @field(resolver: "App\\GraphQL\\Mutations\\UpdateProject") @guard(with: ["sanctum"])
    deleteProject(id: ID!): DeleteResponse! @delete(model: "Project") @guard(with: ["sanctum"])
}

